<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Windows CMD常用命令大全 - LiuZheng&#39;s Blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="google-site-verification" content="7if7tEoBzofIpEcyTBbXYj68Uwni_Udf_J_RnIMKkx0"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/article.css"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="container"><div id="nav"><nav id="nav-wrap"><a class="nav-link" href="/">Home</a> <a class="nav-link" href="/archives">Archives</a> <a class="nav-link" href="/categories">Categories</a> <a class="nav-link" href="https://liuzane.github.io/tools">Tools</a> <a class="nav-link" href="/about">About</a></nav><div class="frosted-glass"></div></div><div id="wrapper"><header id="header"><div class="header-wrapper"><img src="/images/aodamiao.jpg" class="header-avatar"><p class="header-author">Zheng Liu</p><p class="header-description">Study hard and make progress every day</p></div><div class="frosted-glass"></div></header><section id="content"><article class="article"><a class="article-back" href="javascript: history.back(-1)">&lt; Back</a><header class="article-header"><h1 class="article-title">Windows CMD常用命令大全</h1><div class="article-meta"><time datetime="2023-11-23T09:23:41.000Z" class="article-date">2023-11-23</time></div></header><div class="article-content"><p><strong>执行 CMD 命令有两种方式：</strong></p><ol><li>通过命令提示符窗口执行命令：鼠标右键开始按钮并弹出菜单，点击运行（快捷键：Win + R），在输入框内输入 cmd 点击确定。</li><li>通过创建后缀名为 .bat 的脚本文件执行 CMD 命令。</li></ol><h4 id="创建-bat-脚本文件执行-CMD-命令。"><a href="#创建-bat-脚本文件执行-CMD-命令。" class="headerlink" title="创建 .bat 脚本文件执行 CMD 命令。"></a>创建 .bat 脚本文件执行 CMD 命令。</h4><p>这里将会创建一个标题为 Hello World 的命令提示符窗口，并在里面执行输出 Hello World!，创建文件等操作。</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">rem start.bat</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">rem &quot;rem&quot;和&quot;::&quot;是批处理中的注释</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">start</span> &quot;Hello World&quot; <span class="built_in">cmd</span> /k .\input.bat</span><br></pre></td></tr></table></figure><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">rem input.bat</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">chcp</span> <span class="number">65001</span></span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> Hello World!</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /p text=请输入： (PS: 使用<span class="built_in">set</span>设置变量, 使用/p参数阻塞命令, 等待输入完成后再执行其他命令.)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> 你输入的内容为<span class="variable">%text%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /p isSave=是否保存为文件？(y/n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> &quot;<span class="variable">%isSave%</span>&quot; == &quot;y&quot; (</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">exist</span> 输入的内容.txt (</span><br><span class="line">    @<span class="built_in">echo</span> 输入的内容.txt 文件已存在</span><br><span class="line">  )</span><br><span class="line">  @<span class="built_in">echo</span> <span class="variable">%text%</span>&gt;&gt;输入的内容.txt</span><br><span class="line">  @<span class="built_in">echo</span> 文件已保存.</span><br><span class="line">) <span class="keyword">else</span> (</span><br><span class="line">  <span class="built_in">echo</span> 不保存文件.</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure><p>附录： <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/windows-commands">Windows 命令大全</a></p><h4 id="1-cd-命令"><a href="#1-cd-命令" class="headerlink" title="1. cd 命令"></a>1. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/cd">cd 命令</a></h4><p>显示当前目录的名称或更改当前目录。 如果仅与驱动器号一起使用（例如，cd C:），cd 将显示指定驱动器中当前目录的名称。 如果使用时不带参数，cd 将显示当前驱动器和目录。<br><strong>如果跳转的路径在不同盘需要添加/d参数，否则无法跳转。</strong></p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> [/d] [&lt;drive&gt;:][&lt;<span class="built_in">path</span>&gt;]</span><br><span class="line"><span class="built_in">cd</span> [..]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>/d</code></td><td>更改当前驱动器以及驱动器的当前目录。</td></tr><tr><td><code>&lt;drive&gt;:</code></td><td>指定要显示或更改的驱动器（如果与当前驱动器不同）。</td></tr><tr><td><code>&lt;path&gt;</code></td><td>指定要显示或更改的目录的路径。</td></tr><tr><td><code>[..]</code></td><td>指定要更改为父文件夹。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">rem  CMD 执行路径: $ C:\Users\liuzane&gt;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">D:                  // 进入<span class="title">d</span>盘</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">F</span>:                  // 进入<span class="title">F</span>盘</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span> \                // 跳转到当前硬盘的根目录</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span> <span class="title">C</span>:\<span class="title">WINDOWS</span>       // 跳转到<span class="title">C</span>盘的<span class="title">WINDOWS</span>文件夹，（相同驱动器下不需要/<span class="title">d</span>参数）</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span> /<span class="title">d</span> <span class="title">e</span>:\<span class="title">software</span>   // 跳转到<span class="title">e</span>盘的<span class="title">software</span>文件夹，（需要添加/<span class="title">d</span>参数）</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span>..                // 跳转到上一层目录</span></span><br></pre></td></tr></table></figure><h4 id="2-dir-命令"><a href="#2-dir-命令" class="headerlink" title="2. dir 命令"></a>2. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/dir">dir 命令</a></h4><p>查看目录文件</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span>            // 查看当前目录下的文件，类似于linux下的ls</span><br></pre></td></tr></table></figure><h4 id="3-md-rd-命令"><a href="#3-md-rd-命令" class="headerlink" title="3. md, rd 命令"></a>3. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/md">md</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/rd">rd 命令</a></h4><p>创建目录和删除目录</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md</span> [folder]    // 创建目录（文件夹）</span><br><span class="line"></span><br><span class="line"><span class="built_in">rd</span> [folder]    // 删除目录（文件夹）</span><br></pre></td></tr></table></figure><h4 id="4-cls-命令"><a href="#4-cls-命令" class="headerlink" title="4. cls 命令"></a>4. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/cls">cls 命令</a></h4><p>清除屏幕</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cls</span>    // 类似于linux下的clear</span><br></pre></td></tr></table></figure><h4 id="5-copy-命令"><a href="#5-copy-命令" class="headerlink" title="5. copy 命令"></a>5. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/copy">copy 命令</a></h4><p>复制文件</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">copy</span> [<span class="built_in">path</span>\filename] [<span class="built_in">path</span>\filename]    // 把一个文件拷贝到另一个地方。</span><br></pre></td></tr></table></figure><h4 id="6-move-命令"><a href="#6-move-命令" class="headerlink" title="6. move 命令"></a>6. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/move">move 命令</a></h4><p>移动文件</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">move</span> [<span class="built_in">path</span>\filename] [<span class="built_in">path</span>\filename]    // 把一个文件移动（就是剪切+复制）到另一个地方。</span><br></pre></td></tr></table></figure><h4 id="7-del-命令"><a href="#7-del-命令" class="headerlink" title="7. del 命令"></a>7. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/del">del 命令</a></h4><p>删除文件</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">del</span> [filename]        // 这个是专门删除文件的，不能删除文件夹</span><br></pre></td></tr></table></figure><h4 id="8-ping-命令"><a href="#8-ping-命令" class="headerlink" title="8. ping 命令"></a>8. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/ping">ping 命令</a></h4><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ping</span> [ip]   // 用来测试网络是否畅通，例如 <span class="built_in">ping</span> www.baidu.com</span><br></pre></td></tr></table></figure><h4 id="9-netstat-命令"><a href="#9-netstat-命令" class="headerlink" title="9. netstat 命令"></a>9. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/netstat">netstat 命令</a></h4><p>显示协议统计信息和当前 TCP/IP 网络连接。该命令可以查看当前机器建立的所有网络链接状态，以及对应哪个进程。</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">netstat -<span class="built_in">help</span>                        // 获取命令行使用帮助信息</span><br><span class="line"></span><br><span class="line">netstat -ano                         // 查看网络连接、状态以及对应的进程id</span><br><span class="line"></span><br><span class="line">netstat -aon|<span class="built_in">findstr</span> &quot;<span class="number">8080</span>&quot;          // 查看被占用端口对应的 PID</span><br></pre></td></tr></table></figure><h4 id="10-tasklist-命令"><a href="#10-tasklist-命令" class="headerlink" title="10. tasklist 命令"></a>10. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/tasklist">tasklist 命令</a></h4><p>命令显示计算机上当前正在运行的进程列表。</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tasklist                              // 获取 PID 进程列表</span><br><span class="line"></span><br><span class="line">tasklist|<span class="built_in">findstr</span> &quot;<span class="number">8080</span>&quot;               // 查看指定 PID 的进程</span><br><span class="line"></span><br><span class="line">tasklist /fi &quot;IMAGENAME eq nginx.exe&quot; // 查找所有映像名称为nginx.exe的进程</span><br></pre></td></tr></table></figure><h4 id="11-taskkill-命令"><a href="#11-taskkill-命令" class="headerlink" title="11. taskkill 命令"></a>11. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/taskkill">taskkill 命令</a></h4><p>杀进程任务及进程号</p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">taskkill</span> [/s &lt;computer&gt; [/u [&lt;domain&gt;\]&lt;username&gt; [/p [&lt;password&gt;]]]] &#123;[/fi &lt;filter&gt;] [...] [/pid &lt;processID&gt; | /im &lt;imagename&gt;]&#125; [/f] [/t]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>/s &lt;computer&gt;</code></td><td>指定远程计算机的名称或 IP 地址（请勿使用反斜杠）。 默认为本地计算机。</td></tr><tr><td><code>/s &lt;computer&gt;</code></td><td>使用 <code>&lt;username&gt;</code> 或 <code>&lt;domain&gt;\&lt;username&gt;</code> 指定的用户的帐户权限运行该命令。 仅当还指定了 <code>/s</code> 时，才能指定 <code>/u</code> 参数。 默认值是当前登录到发出该命令的计算机的用户的权限。</td></tr><tr><td><code>/p &lt;password&gt;</code></td><td>指定 <code>/u</code> 参数中指定的用户帐户的密码。</td></tr><tr><td><code>/fi &lt;filter&gt;</code></td><td>应用筛选器以选择一组任务。 可以使用多个筛选器或使用通配符 (*) 指定所有任务或映像名称。 本文的“筛选器名称、运算符和值”部分列出了有效的筛选器。</td></tr><tr><td><code>/pid &lt;processID&gt;</code></td><td>指定要终止的进程的进程 ID。</td></tr><tr><td><code>/im &lt;imagename&gt;</code></td><td>指定要终止的进程的映像名称。 使用通配符 (*) 指定所有映像名称。</td></tr><tr><td><code>/f</code></td><td>指定强制结束进程。 对于远程进程，将忽略此参数；所有远程进程都会被强制结束。</td></tr><tr><td><code>/t</code></td><td>结束指定的进程及其启动的任何子进程。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">taskkill</span> /PID <span class="number">8080</span>         // 杀死 PID 为 <span class="number">8080</span> 的进程</span><br><span class="line"></span><br><span class="line"><span class="built_in">taskkill</span> /T /F /PID <span class="number">8080</span>   // 强制（/F参数）杀死 PID 为 <span class="number">8080</span> 的所有进程包括子进程（/T参数）</span><br><span class="line"></span><br><span class="line"><span class="built_in">taskkill</span> /IM nginx.exe     // 杀死所有映像名称为nginx.exe的进程</span><br></pre></td></tr></table></figure><h4 id="13-tracert-命令"><a href="#13-tracert-命令" class="headerlink" title="13. tracert 命令"></a>13. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/tracert">tracert 命令</a></h4><p>tracert也被称为Windows路由跟踪实用程序，在命令提示符（cmd）中使用tracert命令可以用于确定IP数据包访问目标时所选择的路径。</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tracert /? 获取使用帮助</span><br></pre></td></tr></table></figure><h4 id="14-start-命令"><a href="#14-start-命令" class="headerlink" title="14. start 命令"></a>14. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/start">start 命令</a></h4><p>启动单独的命令提示符窗口以运行指定的程序或命令。</p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">start</span> &lt;&quot;<span class="built_in">title</span>&quot;&gt; [/d &lt;<span class="built_in">path</span>&gt;] [/i] [&#123;/min | /max&#125;] [&lt;command&gt; [&lt;parameter&gt;... ] | &lt;program&gt; [&lt;parameter&gt;... ]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>&quot;title&quot;</code></td><td>指定要在“命令提示符”窗口标题栏中显示的标题。</td></tr><tr><td><code>/d &lt;path&gt;</code></td><td>指定启动目录。</td></tr><tr><td><code>/i</code></td><td>将 Cmd.exe 启动环境传递到新的“命令提示符”窗口。 如果未指定 /i，则使用当前环境。</td></tr><tr><td><code>&lt;command&gt; [&lt;parameter&gt;... ]</code></td><td>指定要启动的命令， &lt;parameter&gt; 为命令参数。</td></tr><tr><td><code>&lt;program&gt; [&lt;parameter&gt;... ]</code></td><td>指定要启动的程序， &lt;parameter&gt; 为程序参数。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 打开新命令提示符窗口设置路径为 D:\workspace\project 并且执行 <span class="built_in">echo</span> Hello World</span><br><span class="line"><span class="built_in">start</span> &quot;Hello World&quot; /d D:\workspace\project <span class="built_in">cmd</span> /k <span class="built_in">echo</span> Hello World</span><br></pre></td></tr></table></figure><h4 id="15-cmd-命令"><a href="#15-cmd-命令" class="headerlink" title="15. cmd 命令"></a>15. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/cmd">cmd 命令</a></h4><p>启动命令解释器的新实例 Cmd.exe。 使用时如果没有参数，cmd 将显示操作系统的版本和版权信息。</p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmd</span> [/c|/k] [/s] [/q] [/d] [/a|/u] [/t:&#123;&lt;b&gt;&lt;f&gt; | &lt;f&gt;&#125;] [/e:&#123;on | off&#125;] [/f:&#123;on | off&#125;] [/v:&#123;on | off&#125;] [&lt;string&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>/c</code></td><td>执行由 <code>&lt;string&gt;</code> 指定的命令，然后退出命令处理器。</td></tr><tr><td><code>/k</code></td><td>执行由 <code>&lt;string&gt;</code> 指定的命令，并使命令处理器保持运行。</td></tr><tr><td><code>/s</code></td><td>与 <code>/c</code> 或 <code>/k</code> 一起使用时，触发特殊的非分析规则，这些规则在 <code>&lt;string&gt;</code> 周围去除第一个和最后一个引号 (“)，但使命令的其余部分保持不变。</td></tr><tr><td><code>/q</code></td><td>关闭回显。</td></tr><tr><td><code>/d</code></td><td>禁用自动运行命令的执行。</td></tr><tr><td><code>/a</code></td><td>将命令输出的格式设置为美国国家标准协会 (ANSI)。</td></tr><tr><td><code>/u</code></td><td>将命令输出的格式设置为 Unicode。</td></tr><tr><td><code>/t:&#123;&lt;b&gt;&lt;f&gt; | &lt;f&gt;&#125;</code></td><td>设置背景色 (b) 和前景色 (f)。</td></tr><tr><td><code>/e:on</code></td><td>启用命令扩展。</td></tr><tr><td><code>/e:off</code></td><td>禁用命令扩展。</td></tr><tr><td><code>/f:on</code></td><td>启用文件和目录名完成。</td></tr><tr><td><code>/f:off</code></td><td>禁用文件和目录名完成。</td></tr><tr><td><code>/v:on</code></td><td>启用延迟的环境变量扩展。</td></tr><tr><td><code>/v:off</code></td><td>禁用延迟的环境变量扩展。</td></tr><tr><td><code>&lt;string&gt;</code></td><td>指定要执行的命令。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p>下表列出了可用作 &lt;b&gt; 和 &lt;f&gt; 的值的有效的十六进制数字：</p><table><thead><tr><th>值</th><th>颜色</th></tr></thead><tbody><tr><td>0</td><td>黑色</td></tr><tr><td>1</td><td>蓝色</td></tr><tr><td>2</td><td>绿色</td></tr><tr><td>3</td><td>Aqua</td></tr><tr><td>4</td><td>红色</td></tr><tr><td>5</td><td>紫色</td></tr><tr><td>6</td><td>黄色</td></tr><tr><td>7</td><td>白色</td></tr><tr><td>8</td><td>灰色</td></tr><tr><td>9</td><td>淡蓝色</td></tr><tr><td>a</td><td>浅绿色</td></tr><tr><td>b</td><td>淡蓝绿色</td></tr><tr><td>c</td><td>淡红色</td></tr><tr><td>d</td><td>淡紫色</td></tr><tr><td>e</td><td>淡黄色</td></tr><tr><td>F</td><td>亮白色</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 若要将命令输出重定向到另一个命令的输入，请使用管道 (|) 字符。 例如：</span><br><span class="line">&lt;command1&gt; | &lt;command2&gt;</span><br><span class="line"></span><br><span class="line">// 若要对 &lt;string&gt; 使用多个命令，请用命令分隔符 &amp;&amp; 分隔它们。 例如：</span><br><span class="line">&lt;command1&gt;&amp;&amp;&lt;command2&gt;&amp;&amp;&lt;command3&gt;</span><br><span class="line"></span><br><span class="line">// 如果提供的目录路径、文件或任何信息包含空格，则必须在文本周围使用双引号 (&quot;)，例如 &quot;Computer Name&quot;。 例如：</span><br><span class="line"><span class="built_in">mkdir</span> Test&amp;&amp;<span class="built_in">mkdir</span> &quot;Test <span class="number">2</span>&quot;&amp;&amp;<span class="built_in">move</span> &quot;Test <span class="number">2</span>&quot; Test</span><br></pre></td></tr></table></figure><h4 id="16-echo-和-echo-命令"><a href="#16-echo-和-echo-命令" class="headerlink" title="16. echo 和 @echo 命令"></a>16. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/echo">echo 和 @echo 命令</a></h4><p>显示消息或者打开或关闭命令回显功能。 如果不结合任何参数使用，echo 会显示当前回显设置。<br>echo 和 @echo 命令的区别：添加@后将不会显示命令行内容</p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> [&lt;message&gt;]</span><br><span class="line"><span class="built_in">echo</span> [on | off]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>[on | off]</code></td><td>打开或关闭命令回显功能。 命令回显功能默认已打开。</td></tr><tr><td><code>&lt;message&gt;</code></td><td>指定要在屏幕上显示的文本。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> Hello World</span><br><span class="line">// 将显示以下内容</span><br><span class="line">// $ D:\workspace\script&gt;<span class="built_in">echo</span> Hello World</span><br><span class="line">// $ Hello World</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> Hello World</span><br><span class="line">// 只显示</span><br><span class="line">// $ Hello World</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off  // 防止批处理文件中的所有命令（包括 <span class="built_in">echo</span> off 命令）显示在屏幕上</span><br><span class="line">@<span class="built_in">echo</span> on   // 开启批处理文件中的命令显示在屏幕上</span><br></pre></td></tr></table></figure><p><strong>备注</strong><br>当 <code>echo</code> 关闭时，<code>echo &lt;message&gt;</code> 命令更有用。 若要显示长度有好几行的消息而不显示任何命令，可以在批处理程序中的 <code>echo off</code> 命令后面添加多个 <code>echo &lt;message&gt;</code> 命令。</p><p>关闭回显后，命令提示符不会出现在“命令提示符”窗口中。 若要显示命令提示符，请键入 <code>echo on</code>。</p><p>如果在批处理文件中使用，<code>echo on</code> 和 <code>echo off</code> 不会影响命令提示符处的设置。</p><p>如果使用 <code>echo</code> 时批处理文件中存在空变量，则会显示“回显已关闭”。 若要防止看到此消息，改为生成一个空行，请在 <code>echo</code> 和变量之间放置一个冒号 (<code>:</code>)。 例如 <code>echo:%var%</code>。</p><p>若要防止回显批处理文件中的特定命令，请在该命令前面插入 (<code>@</code>) 符号。 若要防止回显批处理文件中的所有命令，请在文件开头包含 <code>echo off</code> 命令。</p><p>若要在批处理脚本中显示感叹号 (<code>!</code>)，请在单词或短语后面添加脱字符，再后接感叹号，并将此字符串括在双引号中 (<code>Hello World^!</code>)。 或者，可以使用双脱字符 (<code>^^</code>) 而无需使用双引号 (<code>Hello World^^!</code>)。</p><p>若要在使用 <code>echo</code> 时显示竖线 (<code>|</code>)、与号 (<code>&amp;</code>) 或重定向字符（<code>&lt;</code> 或 <code>&gt;</code>），请紧靠在该字符前面使用脱字符 (<code>^</code>)。 例如 <code>^|</code>、<code>^&amp;</code>、<code>^&gt;</code> 或 <code>^&lt;</code>。 若要显示脱字符，请连续键入两个脱字符 (<code>^^</code>)。</p><h4 id="17-set-命令"><a href="#17-set-命令" class="headerlink" title="17. set 命令"></a>17. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/set_1">set 命令</a></h4><p>显示、设置或删除 cmd.exe 环境变量。 如果不结合任何参数使用，set 将显示当前环境变量设置。<br><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> [&lt;variable&gt;=[&lt;string&gt;]]</span><br><span class="line"><span class="built_in">set</span> [/p] &lt;variable&gt;=[&lt;promptString&gt;]</span><br><span class="line"><span class="built_in">set</span> /a &lt;variable&gt;=&lt;expression&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>&lt;variable&gt;</code></td><td>指定要设置或修改的环境变量。</td></tr><tr><td><code>&lt;string&gt;</code></td><td>指定要与指定环境变量关联的字符串。</td></tr><tr><td><code>/p</code></td><td>将 <code>&lt;variable&gt;</code> 的值设置为由用户输入的一行输入。</td></tr><tr><td><code>&lt;promptstring&gt;</code></td><td>指定提示用户输入的消息。 此参数必须与 <code>/p</code> 参数一起使用。</td></tr><tr><td><code>/a</code></td><td>将 <code>&lt;string&gt;</code> 设置为计算的数值表达式。</td></tr><tr><td><code>&lt;expression&gt;</code></td><td>指定数值表达式。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> /p text=请输入：        // 请输入： 为 placeholder, 输入文字后变量 text 为输入的内容.</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%text%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /p isSave=是否保存为文件？(y/n)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%isSave%</span></span><br></pre></td></tr></table></figure><h4 id="18-if-命令"><a href="#18-if-命令" class="headerlink" title="18. if 命令"></a>18. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/if">if 命令</a></h4><p>在批处理程序中执行条件处理。</p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [<span class="keyword">not</span>] <span class="keyword">ERRORLEVEL</span> &lt;number&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> [<span class="keyword">not</span>] &lt;string1&gt;==&lt;string2&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> [<span class="keyword">not</span>] <span class="keyword">exist</span> &lt;filename&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br></pre></td></tr></table></figure><p>如果启用了命令扩展，请使用以下语法：</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [/i] &lt;string1&gt; &lt;compareop&gt; &lt;string2&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> cmdextversion &lt;number&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">defined</span> &lt;variable&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>not</code></td><td>指定仅当条件为 false 时，才应执行该命令。</td></tr><tr><td><code>errorlevel &lt;number&gt;</code></td><td>仅当由 Cmd.exe 运行的上一个程序返回等于或大于 number 的退出代码时，才指定 true 条件。</td></tr><tr><td><code>&lt;command&gt;</code></td><td>指定在满足上述条件时应执行的命令。</td></tr><tr><td><code>&lt;string1&gt;==&lt;string2&gt;</code></td><td>仅当 string1 和 string2 相同时，才指定 true 条件。 这些值可以是字符串或批处理变量（例如，%1）。 无需将字符串用引号括起来。</td></tr><tr><td><code>exist &lt;filename&gt;</code></td><td>如果指定的文件名存在，则指定 true 条件。</td></tr><tr><td><code>&lt;compareop&gt;</code></td><td>指定三字母比较运算符，包括：<ul><li>EQU - 等于</li><li>NEQ - 不等于</li><li>LSS - 小于</li><li>LEQ - 小于或等于</li><li>GTR - 大于</li><li>GEQ - 大于或等于</li></ul></td></tr><tr><td><code>/i</code></td><td>强制字符串比较忽略大小写。 可以采用 if 的 string1==string2 形式使用 /i。 这些比较是通用的，因为如果 string1 和 string2 仅由数字组成，则字符串将转换为数值并执行数值比较。</td></tr><tr><td><code>cmdextversion &lt;number&gt;</code></td><td>仅当与 Cmd.exe 的命令扩展功能关联的内部版本号等于或大于指定的数值时，才指定 true 条件。 第一个版本为 1。 向命令扩展添加大量增强功能时，它会以 1 为增量增加。 禁用命令扩展时（默认情况下，启用命令扩展），cmdextversion 条件永远不会为 true。</td></tr><tr><td><code>defined &lt;variable&gt;</code></td><td>如果定义了变量，则指定 true 条件。</td></tr><tr><td><code>&lt;expression&gt;</code></td><td>指定命令行命令以及要在 else 子句中传递给该命令的任何参数。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> product.dat <span class="built_in">echo</span> 无法找到 product.dat 文件</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> product.dat (</span><br><span class="line">  <span class="built_in">del</span> product.dat</span><br><span class="line">) <span class="keyword">ELSE</span> (</span><br><span class="line">  <span class="built_in">echo</span> 无法找到 product.dat 文件</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong>备注</strong></p><ul><li>如果 if 子句中指定的条件为 true，则执行条件后面的命令。如果条件为 false，则忽略 if 子句中的命令，并且该命令执行 else 子句中指定的任何命令。</li><li>程序停止时，它将返回退出代码。 若要使用退出代码作为条件，请使用 errorlevel 参数。</li><li><ul><li>%errorlevel%：扩展为 ERRORLEVEL 环境变量的当前值的字符串表示形式。 此变量假定尚不存在名为 ERRORLEVEL 的现有环境变量。 如果存在，将获得该 ERRORLEVEL 值。</li></ul></li><li><ul><li>%cmdcmdline%：扩展到在 Cmd.exe 进行任何处理之前传递给 Cmd.exe 的原始命令行。 这假定尚不存在名为 CMDCMDLINE 的现有环境变量。 如果存在，将获得该 CMDCMDLINE 值。</li></ul></li><li><ul><li>%cmdextversion%：扩展为 cmdextversion 的当前值的字符串表示形式。 这假定不存在名为 CMDEXTVERSION 的现有环境变量。 如果存在，将获取该 CMDEXTVERSION 值。</li></ul></li><li>必须在 if 后面的命令所在的同一行上使用 else 子句。</li></ul><h4 id="19-辅助符号-‘-’"><a href="#19-辅助符号-‘-’" class="headerlink" title="19. 辅助符号 ‘|’"></a>19. 辅助符号 ‘|’</h4><p>“|”cmd命令中|代表前一个的输出代表后一个的输入</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -ano|<span class="built_in">find</span> &quot;<span class="number">192</span>.<span class="number">168</span>.<span class="number">1</span>.<span class="number">10</span>&quot;  // 查找特定ip的网络连接及进程号</span><br></pre></td></tr></table></figure><h4 id="20-重定向输出符号-gt-gt-gt"><a href="#20-重定向输出符号-gt-gt-gt" class="headerlink" title="20 重定向输出符号&gt; &gt;&gt;"></a>20 重定向输出符号&gt; &gt;&gt;</h4><p>将原本输出到命令窗口的内容，转存到文件中，如jstack 12912 &gt;d:/s.txt 打印线程到指定文件</p><p>cmd &gt; 重定向输出并覆盖源文件。</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> hello &gt;c:\<span class="number">1</span>.txt   // <span class="number">1</span>.txt的文件内容先被清空，然后写入hello。</span><br></pre></td></tr></table></figure><p>cmd &gt;&gt;重定向输出追加到文件末尾</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> hello &gt;&gt;c:\<span class="number">1</span>.txt  // 在<span class="number">1</span>.txt文件末尾加上hello</span><br></pre></td></tr></table></figure><h4 id="21-重定向输入符号-lt-lt-lt"><a href="#21-重定向输入符号-lt-lt-lt" class="headerlink" title="21. 重定向输入符号&lt; &lt;&lt;"></a>21. 重定向输入符号&lt; &lt;&lt;</h4><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmd</span> &lt; file     // 使<span class="built_in">cmd</span>命令从file读入</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &lt;&lt; text    // 从命令行读取输入，直到一个与text相同的行结束。</span><br><span class="line">// 除非使用引号把输入括起来，此模式将对输入内容进行shell变量替换。</span><br><span class="line">// 如果使用 &lt;&lt;- ，则会忽略接下来输入行首的tab，结束行也可以是一堆tab再加上一个与text相同的内容，可以参考后面的例子。</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &lt;&lt;&lt; word   // 把word（而不是文件word）和后面的换行作为输入提供给<span class="built_in">cmd</span>。</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &lt;&gt; file    // 以读写模式把文件file重定向到输入，文件file不会被破坏。仅当应用程序利用了这一特性时，它才是有意义的。</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &gt;| file    // 功能同&gt;，但即便在设置了noclobber时也会覆盖file文件，注意用的是|而非一些书中说的<span class="variable">!，目前仅在csh中仍沿用&gt;!</span>实现这一功能。</span><br></pre></td></tr></table></figure></div></article></section><footer id="footer"><div class="footer-wrapper"><a href="/" class="footer-title">LiuZheng's Blog</a><p>Theme from by Lite</p></div><div class="frosted-glass"></div></footer></div></div></body></html>